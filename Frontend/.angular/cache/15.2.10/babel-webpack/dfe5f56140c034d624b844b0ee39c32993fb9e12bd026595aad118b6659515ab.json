{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@app/_services/workflow.service\";\nimport * as i4 from \"@app/_services/alert.service\";\nimport * as i5 from \"@angular/common\";\nfunction AddEditComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Employee ID is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, AddEditComponent_div_13_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.employeeId.errors.required);\n  }\n}\nfunction AddEditComponent_div_28_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Type is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, AddEditComponent_div_28_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.f.type.errors.required);\n  }\n}\nfunction AddEditComponent_div_41_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Status is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, AddEditComponent_div_41_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.f.status.errors.required);\n  }\n}\nfunction AddEditComponent_div_46_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Start Date is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, AddEditComponent_div_46_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f.startDate.errors.required);\n  }\n}\nfunction AddEditComponent_div_61_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Current Step is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_61_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Current Step must be at least 1\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, AddEditComponent_div_61_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵtemplate(2, AddEditComponent_div_61_div_2_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f.currentStep.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f.currentStep.errors.min);\n  }\n}\nfunction AddEditComponent_div_67_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Total Steps is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_67_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Total Steps must be at least 1\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, AddEditComponent_div_67_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵtemplate(2, AddEditComponent_div_67_div_2_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.f.totalSteps.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.f.totalSteps.errors.min);\n  }\n}\nfunction AddEditComponent_span_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 33);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nconst _c1 = function () {\n  return [\"../\"];\n};\nexport let AddEditComponent = /*#__PURE__*/(() => {\n  class AddEditComponent {\n    formBuilder;\n    route;\n    router;\n    workflowService;\n    alertService;\n    form;\n    id;\n    isAddMode;\n    loading = false;\n    submitted = false;\n    constructor(formBuilder, route, router, workflowService, alertService) {\n      this.formBuilder = formBuilder;\n      this.route = route;\n      this.router = router;\n      this.workflowService = workflowService;\n      this.alertService = alertService;\n    }\n    ngOnInit() {\n      this.id = this.route.snapshot.params['id'];\n      this.isAddMode = !this.id;\n      this.form = this.formBuilder.group({\n        employeeId: ['', Validators.required],\n        type: ['', Validators.required],\n        status: ['pending', Validators.required],\n        startDate: ['', Validators.required],\n        endDate: [''],\n        description: [''],\n        currentStep: [1, [Validators.required, Validators.min(1)]],\n        totalSteps: [1, [Validators.required, Validators.min(1)]],\n        metadata: [{}]\n      });\n      if (!this.isAddMode) {\n        this.workflowService.getById(this.id).pipe(first()).subscribe(x => {\n          this.form.patchValue(x);\n        });\n      }\n    }\n    // convenience getter for easy access to form fields\n    get f() {\n      return this.form.controls;\n    }\n    onSubmit() {\n      this.submitted = true;\n      // reset alerts on submit\n      this.alertService.clear();\n      // stop here if form is invalid\n      if (this.form.invalid) {\n        return;\n      }\n      this.loading = true;\n      if (this.isAddMode) {\n        this.createWorkflow();\n      } else {\n        this.updateWorkflow();\n      }\n    }\n    createWorkflow() {\n      this.workflowService.create(this.form.value).pipe(first()).subscribe({\n        next: () => {\n          this.alertService.success('Workflow created successfully', {\n            keepAfterRouteChange: true\n          });\n          this.router.navigate(['../'], {\n            relativeTo: this.route\n          });\n        },\n        error: error => {\n          this.alertService.error(error);\n          this.loading = false;\n        }\n      });\n    }\n    updateWorkflow() {\n      this.workflowService.update(this.id, this.form.value).pipe(first()).subscribe({\n        next: () => {\n          this.alertService.success('Workflow updated successfully', {\n            keepAfterRouteChange: true\n          });\n          this.router.navigate(['../../'], {\n            relativeTo: this.route\n          });\n        },\n        error: error => {\n          this.alertService.error(error);\n          this.loading = false;\n        }\n      });\n    }\n    static ɵfac = function AddEditComponent_Factory(t) {\n      return new (t || AddEditComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.WorkflowService), i0.ɵɵdirectiveInject(i4.AlertService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddEditComponent,\n      selectors: [[\"ng-component\"]],\n      decls: 74,\n      vars: 31,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-8\", \"offset-md-2\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"employeeId\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"formControlName\", \"type\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"\"], [\"value\", \"onboarding\"], [\"value\", \"offboarding\"], [\"value\", \"transfer\"], [\"value\", \"promotion\"], [\"formControlName\", \"status\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"pending\"], [\"value\", \"in_progress\"], [\"value\", \"completed\"], [\"value\", \"rejected\"], [\"type\", \"datetime-local\", \"formControlName\", \"startDate\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"datetime-local\", \"formControlName\", \"endDate\", 1, \"form-control\"], [\"formControlName\", \"description\", \"rows\", \"3\", 1, \"form-control\"], [1, \"col-md-6\"], [\"type\", \"number\", \"formControlName\", \"currentStep\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"number\", \"formControlName\", \"totalSteps\", 1, \"form-control\", 3, \"ngClass\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-1\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", 3, \"routerLink\"], [1, \"invalid-feedback\"], [4, \"ngIf\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-1\"]],\n      template: function AddEditComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h4\");\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"form\", 6);\n          i0.ɵɵlistener(\"ngSubmit\", function AddEditComponent_Template_form_ngSubmit_8_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n          i0.ɵɵtext(11, \"Employee ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 9);\n          i0.ɵɵtemplate(13, AddEditComponent_div_13_Template, 2, 1, \"div\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 7)(15, \"label\", 8);\n          i0.ɵɵtext(16, \"Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"select\", 11)(18, \"option\", 12);\n          i0.ɵɵtext(19, \"Select Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"option\", 13);\n          i0.ɵɵtext(21, \"Onboarding\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"option\", 14);\n          i0.ɵɵtext(23, \"Offboarding\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"option\", 15);\n          i0.ɵɵtext(25, \"Transfer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"option\", 16);\n          i0.ɵɵtext(27, \"Promotion\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(28, AddEditComponent_div_28_Template, 2, 1, \"div\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 7)(30, \"label\", 8);\n          i0.ɵɵtext(31, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"select\", 17)(33, \"option\", 18);\n          i0.ɵɵtext(34, \"Pending\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"option\", 19);\n          i0.ɵɵtext(36, \"In Progress\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"option\", 20);\n          i0.ɵɵtext(38, \"Completed\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"option\", 21);\n          i0.ɵɵtext(40, \"Rejected\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(41, AddEditComponent_div_41_Template, 2, 1, \"div\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"div\", 7)(43, \"label\", 8);\n          i0.ɵɵtext(44, \"Start Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(45, \"input\", 22);\n          i0.ɵɵtemplate(46, AddEditComponent_div_46_Template, 2, 1, \"div\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"div\", 7)(48, \"label\", 8);\n          i0.ɵɵtext(49, \"End Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(50, \"input\", 23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(51, \"div\", 7)(52, \"label\", 8);\n          i0.ɵɵtext(53, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(54, \"textarea\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"div\", 1)(56, \"div\", 25)(57, \"div\", 7)(58, \"label\", 8);\n          i0.ɵɵtext(59, \"Current Step\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(60, \"input\", 26);\n          i0.ɵɵtemplate(61, AddEditComponent_div_61_Template, 3, 2, \"div\", 10);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(62, \"div\", 25)(63, \"div\", 7)(64, \"label\", 8);\n          i0.ɵɵtext(65, \"Total Steps\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(66, \"input\", 27);\n          i0.ɵɵtemplate(67, AddEditComponent_div_67_Template, 3, 2, \"div\", 10);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(68, \"div\", 7)(69, \"button\", 28);\n          i0.ɵɵtemplate(70, AddEditComponent_span_70_Template, 1, 0, \"span\", 29);\n          i0.ɵɵtext(71);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(72, \"button\", 30);\n          i0.ɵɵtext(73, \"Cancel\");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isAddMode ? \"Add\" : \"Edit\", \" Workflow\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx.submitted && ctx.f.employeeId.errors));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.employeeId.errors);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(20, _c0, ctx.submitted && ctx.f.type.errors));\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.type.errors);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c0, ctx.submitted && ctx.f.status.errors));\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.status.errors);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(24, _c0, ctx.submitted && ctx.f.startDate.errors));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.startDate.errors);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c0, ctx.submitted && ctx.f.currentStep.errors));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.currentStep.errors);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c0, ctx.submitted && ctx.f.totalSteps.errors));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.totalSteps.errors);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isAddMode ? \"Create\" : \"Update\", \" Workflow \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(30, _c1));\n        }\n      },\n      dependencies: [i5.NgClass, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i2.RouterLink],\n      styles: [\".form-label[_ngcontent-%COMP%] {\\r\\n    font-weight: 500;\\r\\n}\\r\\n\\r\\n.invalid-feedback[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.btn-link[_ngcontent-%COMP%] {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\\r\\n}\\r\\n\\r\\n.card-header[_ngcontent-%COMP%] {\\r\\n    background-color: #f8f9fa;\\r\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vd29ya2Zsb3dzL2FkZC1lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksbURBQW1EO0FBQ3ZEOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLDZDQUE2QztBQUNqRCIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWxhYmVsIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5pbnZhbGlkLWZlZWRiYWNrIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4uYnRuLWxpbmsge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgICBib3gtc2hhZG93OiAwIDAuMTI1cmVtIDAuMjVyZW0gcmdiYSgwLCAwLCAwLCAwLjA3NSk7XHJcbn1cclxuXHJcbi5jYXJkLWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMjUpO1xyXG59ICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n  return AddEditComponent;\n})();","map":{"version":3,"mappings":"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","names":["Validators","first","i0","AddEditComponent","formBuilder","route","router","workflowService","alertService","form","id","isAddMode","loading","submitted","constructor","ngOnInit","snapshot","params","group","employeeId","required","type","status","startDate","endDate","description","currentStep","min","totalSteps","metadata","getById","pipe","subscribe","x","patchValue","f","controls","onSubmit","clear","invalid","createWorkflow","updateWorkflow","create","value","next","success","keepAfterRouteChange","navigate","relativeTo","error","update","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Jay Villafuerte\\OneDrive\\Desktop\\final-project_intprog-main\\frontend\\src\\app\\admin\\workflows\\add-edit.component.ts","C:\\Users\\Jay Villafuerte\\OneDrive\\Desktop\\final-project_intprog-main\\frontend\\src\\app\\admin\\workflows\\add-edit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { first } from 'rxjs/operators';\r\nimport { Workflow } from '@app/_models/workflow';\r\nimport { WorkflowService } from '@app/_services/workflow.service';\r\nimport { AlertService } from '@app/_services/alert.service';\r\n\r\n@Component({\r\n    templateUrl: 'add-edit.component.html',\r\n    styleUrls: ['./add-edit.component.css']\r\n})\r\nexport class AddEditComponent implements OnInit {\r\n    form: FormGroup;\r\n    id: number;\r\n    isAddMode: boolean;\r\n    loading = false;\r\n    submitted = false;\r\n\r\n    constructor(\r\n        private formBuilder: FormBuilder,\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private workflowService: WorkflowService,\r\n        private alertService: AlertService\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.id = this.route.snapshot.params['id'];\r\n        this.isAddMode = !this.id;\r\n\r\n        this.form = this.formBuilder.group({\r\n            employeeId: ['', Validators.required],\r\n            type: ['', Validators.required],\r\n            status: ['pending', Validators.required],\r\n            startDate: ['', Validators.required],\r\n            endDate: [''],\r\n            description: [''],\r\n            currentStep: [1, [Validators.required, Validators.min(1)]],\r\n            totalSteps: [1, [Validators.required, Validators.min(1)]],\r\n            metadata: [{}]\r\n        });\r\n\r\n        if (!this.isAddMode) {\r\n            this.workflowService.getById(this.id)\r\n                .pipe(first())\r\n                .subscribe(x => {\r\n                    this.form.patchValue(x);\r\n                });\r\n        }\r\n    }\r\n\r\n    // convenience getter for easy access to form fields\r\n    get f() { return this.form.controls; }\r\n\r\n    onSubmit() {\r\n        this.submitted = true;\r\n\r\n        // reset alerts on submit\r\n        this.alertService.clear();\r\n\r\n        // stop here if form is invalid\r\n        if (this.form.invalid) {\r\n            return;\r\n        }\r\n\r\n        this.loading = true;\r\n        if (this.isAddMode) {\r\n            this.createWorkflow();\r\n        } else {\r\n            this.updateWorkflow();\r\n        }\r\n    }\r\n\r\n    private createWorkflow() {\r\n        this.workflowService.create(this.form.value)\r\n            .pipe(first())\r\n            .subscribe({\r\n                next: () => {\r\n                    this.alertService.success('Workflow created successfully', { keepAfterRouteChange: true });\r\n                    this.router.navigate(['../'], { relativeTo: this.route });\r\n                },\r\n                error: error => {\r\n                    this.alertService.error(error);\r\n                    this.loading = false;\r\n                }\r\n            });\r\n    }\r\n\r\n    private updateWorkflow() {\r\n        this.workflowService.update(this.id, this.form.value)\r\n            .pipe(first())\r\n            .subscribe({\r\n                next: () => {\r\n                    this.alertService.success('Workflow updated successfully', { keepAfterRouteChange: true });\r\n                    this.router.navigate(['../../'], { relativeTo: this.route });\r\n                },\r\n                error: error => {\r\n                    this.alertService.error(error);\r\n                    this.loading = false;\r\n                }\r\n            });\r\n    }\r\n} ","<div class=\"container mt-4\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-8 offset-md-2\">\r\n            <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                    <h4>{{isAddMode ? 'Add' : 'Edit'}} Workflow</h4>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\">Employee ID</label>\r\n                            <input type=\"text\" formControlName=\"employeeId\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.employeeId.errors }\" />\r\n                            <div *ngIf=\"submitted && f.employeeId.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.employeeId.errors.required\">Employee ID is required</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\">Type</label>\r\n                            <select formControlName=\"type\" class=\"form-select\" [ngClass]=\"{ 'is-invalid': submitted && f.type.errors }\">\r\n                                <option value=\"\">Select Type</option>\r\n                                <option value=\"onboarding\">Onboarding</option>\r\n                                <option value=\"offboarding\">Offboarding</option>\r\n                                <option value=\"transfer\">Transfer</option>\r\n                                <option value=\"promotion\">Promotion</option>\r\n                            </select>\r\n                            <div *ngIf=\"submitted && f.type.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.type.errors.required\">Type is required</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\">Status</label>\r\n                            <select formControlName=\"status\" class=\"form-select\" [ngClass]=\"{ 'is-invalid': submitted && f.status.errors }\">\r\n                                <option value=\"pending\">Pending</option>\r\n                                <option value=\"in_progress\">In Progress</option>\r\n                                <option value=\"completed\">Completed</option>\r\n                                <option value=\"rejected\">Rejected</option>\r\n                            </select>\r\n                            <div *ngIf=\"submitted && f.status.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.status.errors.required\">Status is required</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\">Start Date</label>\r\n                            <input type=\"datetime-local\" formControlName=\"startDate\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.startDate.errors }\" />\r\n                            <div *ngIf=\"submitted && f.startDate.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.startDate.errors.required\">Start Date is required</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\">End Date</label>\r\n                            <input type=\"datetime-local\" formControlName=\"endDate\" class=\"form-control\" />\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\">Description</label>\r\n                            <textarea formControlName=\"description\" class=\"form-control\" rows=\"3\"></textarea>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"mb-3\">\r\n                                    <label class=\"form-label\">Current Step</label>\r\n                                    <input type=\"number\" formControlName=\"currentStep\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.currentStep.errors }\" />\r\n                                    <div *ngIf=\"submitted && f.currentStep.errors\" class=\"invalid-feedback\">\r\n                                        <div *ngIf=\"f.currentStep.errors.required\">Current Step is required</div>\r\n                                        <div *ngIf=\"f.currentStep.errors.min\">Current Step must be at least 1</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"mb-3\">\r\n                                    <label class=\"form-label\">Total Steps</label>\r\n                                    <input type=\"number\" formControlName=\"totalSteps\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.totalSteps.errors }\" />\r\n                                    <div *ngIf=\"submitted && f.totalSteps.errors\" class=\"invalid-feedback\">\r\n                                        <div *ngIf=\"f.totalSteps.errors.required\">Total Steps is required</div>\r\n                                        <div *ngIf=\"f.totalSteps.errors.min\">Total Steps must be at least 1</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <button [disabled]=\"loading\" class=\"btn btn-primary\">\r\n                                <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n                                {{isAddMode ? 'Create' : 'Update'}} Workflow\r\n                            </button>\r\n                            <button type=\"button\" class=\"btn btn-link\" [routerLink]=\"['../']\">Cancel</button>\r\n                        </div>\r\n                        \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> "]},"metadata":{},"sourceType":"module","externalDependencies":[]}